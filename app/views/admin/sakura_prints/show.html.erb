<h1>さくらプリントNo.<%= @print_number.number %> 成績閲覧</h1>

<div class="container">
  <div class="mb-3 row align-items-center">
    <label for="print_number" class="col-sm-2 col-form-label">プリント番号</label>
    <div class="col-sm-10 col-md-4">
      <input type="number" class="form-control" id="print_number" value="<%= @print_number.number %>" readonly>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered align-middle text-center">
      <thead class="table-light">
        <tr>
          <th scope="col" style="min-width: 150px;">生徒名</th>
          <th scope="col" style="width: 120px;">かけ算</th>
          <th scope="col" style="width: 120px;">わり算</th>
          <th scope="col" style="width: 120px;">みとり算</th>
          <th scope="col" style="width: 140px;">みとり暗算</th>
          <th scope="col" style="width: 140px;">合計</th>
        </tr>
      </thead>
      <tbody>
        <% @students.each do |student| %>
          <tr>
            <th class="text-start" scope="row"><%= "#{student.last_name} #{student.first_name}" %></th>
            <% print = student.sakura_prints.find_by(sakura_print_number: @print_number) %>
            <% if print.present? %>
              <td><%= print.multiplication_score %></td>
              <td><%= print.division_score %></td>
              <td><%= print.mitori_score %></td>
              <td><%= print.mitori_anzan_score %></td>
              <td><%= print.total_score %></td>
            <% else %>
              <td>-</td>
              <td>-</td>
              <td>-</td>
              <td>-</td>
              <td>-</td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="mt-3">
    <%= link_to "一覧へ戻る", admin_sakura_prints_path, class: "btn btn-secondary" %>
    <%= link_to "編集", edit_admin_sakura_print_path(@print_number), class: "btn btn-primary me-2" %>
    <%= link_to "削除", admin_sakura_print_path(@print_number), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger" %>
  </div>
</div>
